{
  "name": "Payment Entry Thai Tax Invoice",
  "doctype": "Print Format",
  "module": "Print Designer",
  "doc_type": "Payment Entry",
  "print_designer": 1,
  "disabled": 0,
  "standard": "Yes",
  "format_data": [
    {
      "fieldname": "main_div",
      "fieldtype": "HTML",
      "options": "<!-- Thai Tax Invoice Layout -->\n<div class=\"thai-tax-invoice\">\n  <!-- Company Header -->\n  <div class=\"company-header\" style=\"text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px;\">\n    <h2 style=\"margin: 0; font-weight: bold;\">{{ doc.company }}</h2>\n    <p style=\"margin: 5px 0;\">ใบกำกับภาษี / Tax Invoice</p>\n    <p style=\"margin: 5px 0;\">ใบเสร็จรับเงิน / Receipt</p>\n  </div>\n\n  <!-- Document Details -->\n  <div class=\"document-details\" style=\"display: flex; justify-content: space-between; margin-bottom: 15px;\">\n    <div style=\"width: 48%;\">\n      <table style=\"width: 100%; border-collapse: collapse;\">\n        <tr>\n          <td style=\"padding: 3px; font-weight: bold;\">เลขที่ / No.:</td>\n          <td style=\"padding: 3px;\">{{ doc.name }}</td>\n        </tr>\n        <tr>\n          <td style=\"padding: 3px; font-weight: bold;\">วันที่ / Date:</td>\n          <td style=\"padding: 3px;\">{{ doc.posting_date.strftime('%d/%m/%Y') if doc.posting_date else '' }}</td>\n        </tr>\n        <tr>\n          <td style=\"padding: 3px; font-weight: bold;\">ลูกค้า / Customer:</td>\n          <td style=\"padding: 3px;\">{{ doc.party_name or doc.party }}</td>\n        </tr>\n      </table>\n    </div>\n    <div style=\"width: 48%;\">\n      <table style=\"width: 100%; border-collapse: collapse;\">\n        <tr>\n          <td style=\"padding: 3px; font-weight: bold;\">ประเภท / Type:</td>\n          <td style=\"padding: 3px;\">{{ doc.payment_type }}</td>\n        </tr>\n        <tr>\n          <td style=\"padding: 3px; font-weight: bold;\">จำนวนเงิน / Amount:</td>\n          <td style=\"padding: 3px;\">{{ '{:,.2f}'.format(doc.paid_amount) }} {{ doc.paid_to_account_currency or doc.company_currency }}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n  <!-- Items from Referenced Invoices -->\n  {% set items_found = [] %}\n  {% for reference in doc.references %}\n    {% if reference.reference_doctype == \"Sales Invoice\" %}\n      {% set invoice = frappe.get_doc(\"Sales Invoice\", reference.reference_name) %}\n      {% for item in invoice.items %}\n        {% set _ = items_found.append(item) %}\n      {% endfor %}\n    {% endif %}\n  {% endfor %}\n\n  {% if items_found %}\n  <div class=\"items-section\" style=\"margin-bottom: 20px;\">\n    <h3 style=\"margin-bottom: 10px; border-bottom: 1px solid #ccc; padding-bottom: 5px;\">รายการสินค้า / Items</h3>\n    <table style=\"width: 100%; border-collapse: collapse; border: 1px solid #000;\">\n      <thead>\n        <tr style=\"background-color: #f5f5f5;\">\n          <th style=\"border: 1px solid #000; padding: 8px; text-align: left;\">รหัสสินค้า<br>Item Code</th>\n          <th style=\"border: 1px solid #000; padding: 8px; text-align: left;\">รายละเอียด<br>Description</th>\n          <th style=\"border: 1px solid #000; padding: 8px; text-align: center;\">จำนวน<br>Qty</th>\n          <th style=\"border: 1px solid #000; padding: 8px; text-align: right;\">ราคาต่อหน่วย<br>Unit Price</th>\n          <th style=\"border: 1px solid #000; padding: 8px; text-align: right;\">จำนวนเงิน<br>Amount</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for item in items_found %}\n        <tr>\n          <td style=\"border: 1px solid #000; padding: 6px;\">{{ item.item_code }}</td>\n          <td style=\"border: 1px solid #000; padding: 6px;\">{{ item.description or item.item_name }}</td>\n          <td style=\"border: 1px solid #000; padding: 6px; text-align: center;\">{{ item.qty }}</td>\n          <td style=\"border: 1px solid #000; padding: 6px; text-align: right;\">{{ '{:,.2f}'.format(item.rate) }}</td>\n          <td style=\"border: 1px solid #000; padding: 6px; text-align: right;\">{{ '{:,.2f}'.format(item.amount) }}</td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n  </div>\n  {% endif %}\n\n  <!-- Referenced Invoices -->\n  {% if doc.references %}\n  <div class=\"references-section\" style=\"margin-bottom: 20px;\">\n    <h3 style=\"margin-bottom: 10px; border-bottom: 1px solid #ccc; padding-bottom: 5px;\">เอกสารอิงอิง / Referenced Documents</h3>\n    <table style=\"width: 100%; border-collapse: collapse; border: 1px solid #000;\">\n      <thead>\n        <tr style=\"background-color: #f5f5f5;\">\n          <th style=\"border: 1px solid #000; padding: 8px; text-align: left;\">ประเภทเอกสาร<br>Document Type</th>\n          <th style=\"border: 1px solid #000; padding: 8px; text-align: left;\">เลขที่เอกสาร<br>Document No.</th>\n          <th style=\"border: 1px solid #000; padding: 8px; text-align: right;\">จำนวนเงิน<br>Amount</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for reference in doc.references %}\n        <tr>\n          <td style=\"border: 1px solid #000; padding: 6px;\">{{ reference.reference_doctype }}</td>\n          <td style=\"border: 1px solid #000; padding: 6px;\">{{ reference.reference_name }}</td>\n          <td style=\"border: 1px solid #000; padding: 6px; text-align: right;\">{{ '{:,.2f}'.format(reference.allocated_amount) }}</td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n  </div>\n  {% endif %}\n\n  <!-- Payment Details -->\n  <div class=\"payment-details\" style=\"margin-bottom: 20px;\">\n    <h3 style=\"margin-bottom: 10px; border-bottom: 1px solid #ccc; padding-bottom: 5px;\">รายละเอียดการชำระเงิน / Payment Details</h3>\n    <table style=\"width: 100%; border-collapse: collapse;\">\n      <tr>\n        <td style=\"padding: 3px; font-weight: bold; width: 30%;\">วิธีการชำระเงิน / Payment Method:</td>\n        <td style=\"padding: 3px;\">{{ doc.mode_of_payment or '-' }}</td>\n      </tr>\n      <tr>\n        <td style=\"padding: 3px; font-weight: bold;\">บัญชีที่รับเงิน / Received Account:</td>\n        <td style=\"padding: 3px;\">{{ doc.paid_to }}</td>\n      </tr>\n      <tr>\n        <td style=\"padding: 3px; font-weight: bold;\">จำนวนเงินที่ชำระ / Paid Amount:</td>\n        <td style=\"padding: 3px;\">{{ '{:,.2f}'.format(doc.paid_amount) }} {{ doc.paid_to_account_currency or doc.company_currency }}</td>\n      </tr>\n      {% if doc.difference_amount %}\n      <tr>\n        <td style=\"padding: 3px; font-weight: bold;\">ส่วนต่าง / Difference:</td>\n        <td style=\"padding: 3px;\">{{ '{:,.2f}'.format(doc.difference_amount) }}</td>\n      </tr>\n      {% endif %}\n    </table>\n  </div>\n\n  <!-- Footer -->\n  <div class=\"footer\" style=\"margin-top: 30px; text-align: center; border-top: 1px solid #ccc; padding-top: 15px;\">\n    <div style=\"display: flex; justify-content: space-between;\">\n      <div style=\"width: 30%; text-align: center;\">\n        <div style=\"border-top: 1px solid #000; margin-top: 50px; padding-top: 5px;\">\n          ผู้รับเงิน<br>Received by\n        </div>\n      </div>\n      <div style=\"width: 30%; text-align: center;\">\n        <div style=\"border-top: 1px solid #000; margin-top: 50px; padding-top: 5px;\">\n          ผู้อนุมัติ<br>Approved by\n        </div>\n      </div>\n      <div style=\"width: 30%; text-align: center;\">\n        <div style=\"border-top: 1px solid #000; margin-top: 50px; padding-top: 5px;\">\n          ลูกค้า<br>Customer\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<style>\n.thai-tax-invoice {\n  font-family: 'Sarabun', 'THSarabunNew', Arial, sans-serif;\n  font-size: 14px;\n  line-height: 1.4;\n  color: #000;\n}\n\n.thai-tax-invoice table {\n  font-size: 12px;\n}\n\n.thai-tax-invoice h2 {\n  font-size: 18px;\n}\n\n.thai-tax-invoice h3 {\n  font-size: 14px;\n  font-weight: bold;\n}\n\n@media print {\n  .thai-tax-invoice {\n    font-size: 12px;\n  }\n  \n  .thai-tax-invoice table {\n    font-size: 11px;\n  }\n}\n</style>"
    }
  ],
  "raw_printing": 0,
  "print_format_builder": 0,
  "print_format_type": "Jinja",
  "html": "<!-- This will be populated by Print Designer -->",
  "css": ".print-format { font-family: 'Sarabun', sans-serif; }",
  "margin_top": 15,
  "margin_bottom": 15,
  "margin_left": 10,
  "margin_right": 10,
  "page_size": "A4",
  "default_print_language": "th",
  "print_format_builder_beta": 0
}